<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="language" content="en" />
    <link type="text/css" rel="stylesheet" media="screen" href="http://fonts.googleapis.com/css?family=Lato:900|Droid+Sans+Mono">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="/css/main.css" />
    <title>Standing Fleet</title>
  </head>
  <body>
    <div id="page">
      <div id="dim"></div>
      <div id="top-bar">
        <span id="brand">Standing Fleet</span>
        <div class="sub-bar right" id="top-menu">
          <div class="menu-button system-map active" id="top-menu-system-map">
            <i class="fa fa-sitemap"></i> <span>MAP</span>
          </div>
          <div class="menu-button hostiles" id="top-menu-hostiles">
            <i class="fa fa-exclamation-triangle"></i> <span>HOSTILES</span>
          </div>
          <div class="menu-button events" id="top-menu-events">
            <i class="fa fa-bell"></i> <span>EVENTS</span>
          </div>
          <div class="menu-button scans" id="top-menu-scans">
            <i class="fa fa-bullseye"></i> <span>SCANS</span>
          </div>
          <div class="menu-button members" id="top-menu-members">
            <i class="fa fa-users"></i> <span>MEMBERS</span>
          </div>
        </div>
      </div>
      <div id="content-wrapper">
        <div id="system-map" class="main-content active">
          <div id="status-buttons">
            <h2 id="current-system"></h2>
            <a id="status-clear" target="_blank" class="btn btn-clear"><i class="fa fa-check"></i> Clear</a>
            <a id="status-hostile" target="_blank" class="btn btn-hostile"><i class="fa fa-crosshairs"></i> Hostile</a>
          </div>
        </div>
        <div id="hostiles" class="main-content"></div>
        <div id="members" class="main-content"></div>
        <div id="events" class="main-content"></div>
        <div id="scans" class="main-content"></div>
      </div>
      <div id="bottom-bar">
        <div class="sub-bar left" id="info-strings">
          <input id="info-string-fleet-key" type="text" readonly="true" placeholder="Fleet Key" style="display: none;" />
          <input id="info-string-fleet-password" type="text"readonly="true" placeholder="Fleet Password"  style="display: none;" />
        </div>
        <div class="sub-bar right" id="bottom-menu">
          <div class="menu-button" id="bottom-menu-spinner">
            <img src="/images/spinner.gif" alt="Processing..." />
          </div>
          <div class="menu-button" id="bottom-menu-local">
            <i class="fa fa-bullseye"></i> <span>REPORT LOCAL</span>
          </div>
          <div class="menu-button" id="bottom-menu-scan">
            <i class="fa fa-bullseye"></i> <span>REPORT SCAN</span>
          </div>
          <div class="menu-button" id="bottom-menu-menu">
            <i class="fa fa-cog"></i> <span>MENU</span>
          </div>
        </div>
      </div>
    </div>
    <div id="alert-container"></div>

    <script type="text/x-handlebars-template" id="panelTemplate">
      <div class="panel {{type}}">
        <div class="header">
          {{#if closeable}}
          <img class="close" src="/images/icon-close.png" alt="Close panel" onClick="UIPanels.hidePanel()" />
          {{/if}}
          {{#if image}}
          <img src="/images/{{image}}" alt="Panel image" />
          {{/if}}
          {{#if title}}
            <div class="text title">{{{title}}}</div>
          {{/if}}
        </div>
        <div class="content">

        {{#if text}}
          <div class="text {{#if textclass}}{{textclass}}{{/if}}">{{{text}}}</div>
        {{/if}}
        {{#if error}}
          <span class="error">ERROR:<br />{{{error.message}}}</span>
        {{/if}}
        {{#if formitems}}
          <div class="form">
          {{#each formitems}}
            {{#if select}}
            <div class="group">
              {{#if select.legend}}<span class="legend">{{{select.legend}}}</span>{{/if}}
              {{#if select.label}}<label for="{{select.id}}">{{{select.label}}}</label>{{/if}}
              <input id="{{{select.id}}}" value="{{{select.selected}}}" />
            </div>
            {{/if}}
            {{#if input}}
            <div class="group">
              {{#if input.legend}}<span class="legend">{{{input.legend}}}</span>{{/if}}
              {{#if input.label}}<label for="{{input.id}}">{{{input.label}}}</label>{{/if}}
              <input id="{{input.id}}" value="{{{input.value}}}" type={{#if input.hidden}}"hidden"{{else}}"text"{{/if}} />
            </div>
            {{/if}}
            {{#if textinput}}
              {{#if textinput.legend}}<span class="legend">{{{textinput.legend}}}</span>{{/if}}
              {{#if textinput.label}}<label for="{{textinput.id}}" class="legend">{{{textinput.legend}}}</label>{{/if}}
              <textarea rows="1" class="textinput {{{textinput.class}}}"></textarea>
            {{/if}}
            {{#if button}}
            <div class="group">
              <a {{#if button.link}}href="{{{button.link}}}"{{/if}} target="_blank" class="button {{{button.class}}}" onClick="{{{button.onClick}}}">{{{button.text}}}</a>
            </div>
            {{/if}}
            {{#if submit}}
            <div class="submit">
              <a {{#if submit.link}}href="{{{submit.link}}}"{{/if}} target="_blank" class="button" onClick="{{{submit.onClick}}}">{{{submit.text}}}</a>
            </div>
            {{/if}}
          {{/each}}
          </div>
        {{/if}}
        {{#if textinputs}}
          {{#each textinputs}}
          {{#if legend}}<span class="legend">{{{legend}}}</span>{{/if}}
          <textarea rows="1" class="textinput {{{class}}}"></textarea>
          {{/each}}
        {{/if}}
        {{#if buttons}}
          {{#each buttons}}
          <a {{#if link}}href="{{{link}}}"{{/if}} target="_blank" class="button {{{class}}}" onClick="{{{onClick}}}">{{{text}}}</a>
          {{/each}}
        {{/if}}
        </div>
      </div>
    </script>

    <script type="text/x-handlebars-template" id="alertTemplate">
      <div class="event alert {{type}}" onClick="EventList.alertClick('{{type}}', '{{id}}')">
        {{#if type}}
        <img class="icon" src="/images/icon-{{type}}.png" />
        <span class="text">{{{text}}}</span>
        {{else}}
        <span class="text"><i class="fa fa-exclamation-triangle"></i>  {{{text}}}</span>
        {{/if}}
      </div>
    </script>

    <script type="text/x-handlebars-template" id="eventTemplate">
      <div class="event {{type}}" data-key="{{key}}">
        <img class="icon" src="/images/icon-{{type}}.png" />
        <span class="text">{{{text}}}</span>
        <div class="right">
          {{#if respondable}}
          <span class="response">
            <a href="javascript:EventList.eventResponseClick('{{key}}', 'y')">Approve</a>
            &nbsp;|&nbsp;
            <a href="javascript:EventList.eventResponseClick('{{key}}', 'n')">Deny</a>
          </span>
          {{/if}}
          <span class="time">{{time}}</span>
        </div>
      </div>
    </script>

    <script type="text/x-handlebars-template" id="scanTemplate">
      <div class="scan">
        <div class="description-container" onclick="ScanList.toggleCollapse(this)">
          <span class="text">
            {{time}} - <a href="javascript:CCPEVE.showInfo(5,{{systemId}});">{{systemName}}</a>,
            reported by <a href="javascript:CCPEVE.showInfo(1377, {{reporterId}});">{{reporter}}</a> <span class="key">[ {{key}} ]</span>
          </span>
        </div>
        <div class="results-container collapsible">
        {{#each shipTypes}}
          <div class="result">
            <span class="ship-type" onclick="ScanList.toggleCollapse(this)">{{count}}x <b>{{shipType}}</b></span>

            {{#each details}}
            <div class="details-container collapsible">
              <span class="ship-name">{{shipName}}</span>
              <span class="distance">{{distance}}</span>
            </div>
            {{/each}}
          </div>
        {{/each}}
        </div>
      </div>
    </script>

    <script type="text/x-handlebars-template" id="memberTemplate">
      <table class="member" id="member-{{id}}">
        <tr>
          <td class="ship-icon">{{{shipIcon}}}</td>
          <td class="name"><a href="javascript:CCPEVE.showInfo(1377, {{id}});">{{name}}</a></td>
          <td class="ship-type"><a href="javascript:CCPEVE.showInfo({{shipTypeId}});">{{shipType}}</a></td>
          <td class="ship-name">{{shipName}}</td>
          <td class="system {{#if isDocked}}docked{{/if}}"><a href="javascript:CCPEVE.showInfo(5,{{systemId}});">{{systemName}}</a></td>
          <td class="actions" onClick="UIPanels.showMemberOptionsPanel('{{id}}');"><img src="/images/icon-options.png" alt="Options"/></td>
        </tr>
      </table>
    </script>

    <script type="text/x-handlebars-template" id="hostileTemplate">
      <table class="hostile" id="hostile-{{id}}">
        <tr>
          <td class="ship-icon">{{{shipIcon}}}</td>
          <td class="name"><a href="javascript:CCPEVE.showInfo(1377, {{id}});">{{name}}</a></td>
          <td class="corp">
            {{#if corporationName}}
              <a href="javascript:CCPEVE.showInfo(2, {{corporationID}});">[ {{corporationName}} ]</a>
            {{else}}
              Corporation details unavailable
            {{/if}}
          </td>
          <td class="alliance">
            {{#if allianceName}}
              <a href="javascript:CCPEVE.showInfo(16159, {{allianceID}});">&lt; {{allianceName}} &gt;</a>
            {{else}}
              No Alliance
            {{/if}}
          </td>
          <td class="ship-type" onClick="UIPanels.updateHostileDetailsPanel('{{id}}');">
            {{#if shipTypeId}}
              <a href="javascript:CCPEVE.showInfo({{shipTypeId}});">{{shipType}}</a>
            {{else}}
              Ship type unavailable
            {{/if}}
          </td>
          <td class="ship-name" onClick="UIPanels.updateHostileDetailsPanel('{{id}}');">
            {{#if shipName}}
              {{shipName}}
            {{else}}
              Ship name unavailable
            {{/if}}
          </td>
          <td class="system {{#if isDocked}}docked{{/if}}"><a href="javascript:CCPEVE.showInfo(5,{{systemId}});">{{systemName}}</a></td>
          <td class="reporter"><a href="javascript:CCPEVE.showInfo(1377, {{reporterId}});">{{reporterName}}</a></td>
          <td class="actions" onClick="UIPanels.showHostileOptionsPanel('{{id}}');"><img src="/images/icon-options.png" alt="Options"/></td>
        </tr>
      </table>
    </script>

    <script type="text/javascript" src="/js/3rd/hbs130.js"></script>
    <script type="text/javascript" src="/js/3rd/jquery1110.js"></script>
    <script type="text/javascript" src="/js/3rd/jqueryui1110.js"></script>
    <script type="text/javascript" src="/js/3rd/d3348.js"></script>

    <script type="text/javascript" src="/js/Util.js"></script>
    <script type="text/javascript" src="/js/UI.js"></script>
    <script type="text/javascript" src="/js/UIPanels.js"></script>
    <script type="text/javascript" src="/js/Data.js"></script>
    <script type="text/javascript" src="/js/Server.js"></script>
    <script type="text/javascript" src="/js/SystemMap.js"></script>
    <script type="text/javascript" src="/js/MemberList.js"></script>
    <script type="text/javascript" src="/js/HostileList.js"></script>
    <script type="text/javascript" src="/js/EventList.js"></script>
    <script type="text/javascript" src="/js/ScanList.js"></script>
    <script type="text/javascript" src="/js/EventHandler.js"></script>
    <script type="text/javascript" src="/js/Main.js"></script>

  </body>
</html>
